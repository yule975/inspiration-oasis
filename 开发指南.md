# çµæ„Ÿç»¿æ´² - å¼€å‘æŒ‡å—

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

**çµæ„Ÿç»¿æ´²** æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„å›¢é˜Ÿåä½œåˆ›æ„å¹³å°ï¼Œå¸®åŠ©å›¢é˜Ÿæ”¶é›†ã€ç®¡ç†å’Œåˆ†æåˆ›æ„æƒ³æ³•ã€‚

### æŠ€æœ¯æ¶æ„
- **å‰ç«¯**: Next.js 14 + TypeScript + Tailwind CSS + shadcn/ui
- **åç«¯**: Node.js + Express + TypeScript + PostgreSQL + Prisma
- **AIæœåŠ¡**: OpenRouter APIï¼ˆå¤šæ¨¡å‹æ”¯æŒï¼‰
- **ç¼“å­˜**: Redisï¼ˆå¯é€‰ï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- PostgreSQL >= 13
- Redis (å¯é€‰)
- pnpm (æ¨è)

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd çµæ„Ÿç»¿æ´²
```

### 2. å®‰è£…ä¾èµ–
```bash
# å‰ç«¯ä¾èµ–
pnpm install

# åç«¯ä¾èµ–  
cd backend
pnpm install
cd ..
```

### 3. ç¯å¢ƒé…ç½®

**åç«¯ç¯å¢ƒé…ç½®:**
```bash
cd backend
cp .env.example .env
```

ç¼–è¾‘ `backend/.env`:
```env
# æ•°æ®åº“é…ç½®
DATABASE_URL="postgresql://username:password@localhost:5432/inspiration_oasis"

# OpenRouter APIé…ç½®
OPENROUTER_API_KEY=your_openrouter_api_key_here

# æœåŠ¡å™¨é…ç½®  
PORT=3001
CORS_ORIGIN=http://localhost:3000
```

### 4. æ•°æ®åº“è®¾ç½®
```bash
cd backend

# ç”ŸæˆPrismaå®¢æˆ·ç«¯
pnpm db:generate

# åˆ›å»ºæ•°æ®åº“å¹¶æ¨é€ç»“æ„
pnpm db:push

# åˆå§‹åŒ–æµ‹è¯•æ•°æ®
pnpm db:seed
```

### 5. å¯åŠ¨æœåŠ¡

**æ–¹æ¡ˆä¸€ï¼šåˆ†åˆ«å¯åŠ¨**
```bash
# å¯åŠ¨åç«¯ (ç»ˆç«¯1)
cd backend
pnpm dev

# å¯åŠ¨å‰ç«¯ (ç»ˆç«¯2)  
cd ..
pnpm dev
```

**æ–¹æ¡ˆäºŒï¼šåŒæ—¶å¯åŠ¨**
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
pnpm dev:all
```

### 6. è®¿é—®åº”ç”¨
- å‰ç«¯: http://localhost:3000
- åç«¯API: http://localhost:3001
- å¥åº·æ£€æŸ¥: http://localhost:3001/health
- æ•°æ®åº“ç®¡ç†: `pnpm db:studio` (åœ¨backendç›®å½•)

## ğŸ“ é¡¹ç›®ç»“æ„

```
çµæ„Ÿç»¿æ´²/
â”œâ”€â”€ ğŸ“± å‰ç«¯ (Next.js)
â”‚   â”œâ”€â”€ app/                 # App Routeré¡µé¢
â”‚   â”œâ”€â”€ components/          # UIç»„ä»¶åº“
â”‚   â”œâ”€â”€ lib/                 # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ public/              # é™æ€èµ„æº
â”‚
â”œâ”€â”€ ğŸš€ åç«¯ (Express API)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/     # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ routes/          # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ middleware/      # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ config/          # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ prisma/             # æ•°æ®åº“æ¨¡å‹
â”‚   â””â”€â”€ scripts/            # å·¥å…·è„šæœ¬
â”‚
â””â”€â”€ ğŸ“š æ–‡æ¡£
    â”œâ”€â”€ API-æ–‡æ¡£.md          # APIæ¥å£æ–‡æ¡£
    â”œâ”€â”€ ai-service-design.md # AIæœåŠ¡è®¾è®¡
    â””â”€â”€ å¼€å‘æŒ‡å—.md          # æœ¬æ–‡æ¡£
```

## ğŸ”§ å¼€å‘å·¥ä½œæµ

### å‰ç«¯å¼€å‘
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# ä»£ç æ£€æŸ¥
pnpm lint
```

### åç«¯å¼€å‘
```bash
cd backend

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆçƒ­é‡è½½ï¼‰
pnpm dev

# æ•°æ®åº“ç›¸å…³
pnpm db:studio     # æ•°æ®åº“ç®¡ç†ç•Œé¢
pnpm db:push       # æ¨é€æ•°æ®åº“æ›´æ”¹
pnpm db:seed       # é‡æ–°åˆå§‹åŒ–æµ‹è¯•æ•°æ®

# ä»£ç æ£€æŸ¥
pnpm lint
```

### æ•°æ®åº“ç®¡ç†
```bash
# æŸ¥çœ‹æ•°æ®åº“ï¼ˆWebç•Œé¢ï¼‰
cd backend && pnpm db:studio

# é‡ç½®æ•°æ®åº“
cd backend && pnpm db:push --force-reset

# é‡æ–°åˆå§‹åŒ–æµ‹è¯•æ•°æ®
cd backend && pnpm db:seed
```

## ğŸ¤– AIåŠŸèƒ½é…ç½®

### OpenRouterè®¾ç½®
1. è®¿é—® [OpenRouter](https://openrouter.ai) æ³¨å†Œè´¦å·
2. è·å–APIå¯†é’¥
3. åœ¨ `backend/.env` ä¸­é…ç½®:
```env
OPENROUTER_API_KEY=your_api_key_here
```

### AIåŠŸèƒ½æµ‹è¯•
```bash
# æµ‹è¯•AIå†…å®¹å¢å¼º
curl -X POST http://localhost:3001/api/ai/enhance \
  -H "Content-Type: application/json" \
  -H "X-User-ID: user_001" \
  -d '{"content": "æµ‹è¯•å†…å®¹", "type": "expand"}'

# æµ‹è¯•æ™ºèƒ½æ€»ç»“
curl -X POST http://localhost:3001/api/ai/summarize \
  -H "Content-Type: application/json" \
  -H "X-User-ID: user_001" \
  -d '{"content": "éœ€è¦æ€»ç»“çš„é•¿æ–‡æœ¬..."}'
```

## ğŸ“ åŠŸèƒ½å¼€å‘çŠ¶æ€

### âœ… å·²å®ŒæˆåŠŸèƒ½
- [x] **åŸºç¡€æ¶æ„** - å‰åç«¯æ¡†æ¶æ­å»º
- [x] **æ•°æ®åº“è®¾è®¡** - å®Œæ•´çš„æ•°æ®æ¨¡å‹
- [x] **çµæ„Ÿå¢™åŠŸèƒ½** - åˆ›å»ºã€æŸ¥çœ‹ã€ç‚¹èµã€è¯„è®ºã€å½’æ¡£
- [x] **AIæœåŠ¡é›†æˆ** - OpenRouterå¤šæ¨¡å‹æ”¯æŒ
- [x] **å†…å®¹å¢å¼º** - AIä¼˜åŒ–ã€æ‰©å±•ã€æ¶¦è‰²
- [x] **æ™ºèƒ½æ€»ç»“** - å…³é”®ä¿¡æ¯æå–
- [x] **AIå¯¹è¯** - æ·±åº¦åˆ†æäº¤æµ
- [x] **æ ‡ç­¾æ¨è** - è‡ªåŠ¨åˆ†ç±»æ ‡è®°
- [x] **ç®€åŒ–è®¤è¯** - å¼€å‘é˜¶æ®µç”¨æˆ·æ¨¡æ‹Ÿ
- [x] **APIæ–‡æ¡£** - å®Œæ•´æ¥å£è¯´æ˜

### ğŸ”„ è¿›è¡Œä¸­åŠŸèƒ½
- [ ] **èµ„äº§åº“ç®¡ç†** - å®Œæ•´çš„CRUDæ“ä½œ
- [ ] **æ•°æ®åˆ†æ** - è¶‹åŠ¿ç»Ÿè®¡å’Œæ´å¯Ÿ
- [ ] **æ–‡ä»¶ä¸Šä¼ ** - å›¾ç‰‡å’Œæ–‡æ¡£æ”¯æŒ

### ğŸ“‹ è®¡åˆ’ä¸­åŠŸèƒ½
- [ ] **å®Œæ•´è®¤è¯** - JWT + OAuth SSO
- [ ] **å®æ—¶é€šçŸ¥** - WebSocketæ¨é€
- [ ] **æƒé™ç®¡ç†** - è§’è‰²å’Œæƒé™æ§åˆ¶
- [ ] **å•å…ƒæµ‹è¯•** - å‰åç«¯æµ‹è¯•ç”¨ä¾‹
- [ ] **éƒ¨ç½²é…ç½®** - Docker + CI/CD

## ğŸ› ï¸ APIä½¿ç”¨ç¤ºä¾‹

### è®¤è¯è¯´æ˜
å½“å‰ä½¿ç”¨ç®€åŒ–è®¤è¯æ–¹æ¡ˆï¼Œåœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ ï¼š
```bash
X-User-ID: user_001
X-User-Name: å¼ ä¸‰
```

### æ ¸å¿ƒAPIç¤ºä¾‹

**è·å–çµæ„Ÿåˆ—è¡¨:**
```bash
curl "http://localhost:3001/api/ideas?page=1&limit=10&sort=latest"
```

**å‘å¸ƒæ–°çµæ„Ÿ:**
```bash
curl -X POST http://localhost:3001/api/ideas \
  -H "Content-Type: application/json" \
  -H "X-User-ID: user_001" \
  -H "X-User-Name: å¼ ä¸‰" \
  -d '{
    "content": "æˆ‘çš„æ–°æƒ³æ³•...",
    "tags": ["AI", "åˆ›æ–°"]
  }'
```

**AIå†…å®¹å¢å¼º:**
```bash
curl -X POST http://localhost:3001/api/ai/enhance \
  -H "Content-Type: application/json" \
  -H "X-User-ID: user_001" \
  -d '{
    "content": "åˆ›å»ºä¸€ä¸ªAIåŠ©æ‰‹",
    "type": "expand"
  }'
```

## ğŸ› æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

**1. æ•°æ®åº“è¿æ¥å¤±è´¥**
```bash
# æ£€æŸ¥PostgreSQLçŠ¶æ€
brew services list | grep postgresql

# å¯åŠ¨PostgreSQL
brew services start postgresql

# æ£€æŸ¥è¿æ¥
psql $DATABASE_URL
```

**2. AIæœåŠ¡ä¸å¯ç”¨**
- æ£€æŸ¥ `OPENROUTER_API_KEY` æ˜¯å¦æ­£ç¡®è®¾ç½®
- æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯æ—¥å¿—
- AIæœåŠ¡ä¼šè‡ªåŠ¨é™çº§åˆ°æ¨¡æ‹Ÿæ•°æ®

**3. å‰ç«¯é¡µé¢ç©ºç™½**
- æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
- ç¡®è®¤CORSé…ç½®æ­£ç¡®

**4. Redisè¿æ¥å¤±è´¥**
- Redisæ˜¯å¯é€‰çš„ï¼Œè¿æ¥å¤±è´¥ä¼šè‡ªåŠ¨ä½¿ç”¨å†…å­˜ç¼“å­˜
- å¯åŠ¨Redis: `brew services start redis`

### è°ƒè¯•æ¨¡å¼
```bash
# åç«¯è¯¦ç»†æ—¥å¿—
cd backend
NODE_ENV=development pnpm dev

# æŸ¥çœ‹æ•°æ®åº“æŸ¥è¯¢
# Prismaä¼šåœ¨æ§åˆ¶å°è¾“å‡ºSQLæŸ¥è¯¢
```

## ğŸš€ éƒ¨ç½²æŒ‡å—

### å¼€å‘ç¯å¢ƒéƒ¨ç½²
é¡¹ç›®å·²é…ç½®å¥½å¼€å‘ç¯å¢ƒï¼ŒæŒ‰ç…§å¿«é€Ÿå¼€å§‹å³å¯ã€‚

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

**åç«¯éƒ¨ç½² (Railway/Vercel/Heroku):**
1. è®¾ç½®ç¯å¢ƒå˜é‡
2. é…ç½®æ•°æ®åº“è¿æ¥
3. è¿è¡Œæ•°æ®åº“è¿ç§»
4. å¯åŠ¨åº”ç”¨

**å‰ç«¯éƒ¨ç½² (Vercel/Netlify):**
1. è¿æ¥Gitä»“åº“
2. é…ç½®æ„å»ºå‘½ä»¤: `pnpm build`
3. è®¾ç½®è¾“å‡ºç›®å½•: `.next`
4. é…ç½®ç¯å¢ƒå˜é‡

### Dockeréƒ¨ç½²
```bash
# æ„å»ºåç«¯é•œåƒ
cd backend
docker build -t inspiration-oasis-backend .

# æ„å»ºå‰ç«¯é•œåƒ  
cd ..
docker build -t inspiration-oasis-frontend .
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

### ä»£ç è§„èŒƒ
- ä½¿ç”¨TypeScriptä¸¥æ ¼æ¨¡å¼
- éµå¾ªESLinté…ç½®
- æäº¤å‰è¿è¡Œä»£ç æ£€æŸ¥
- ç¼–å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯

### å¼€å‘æµç¨‹
1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/new-feature`
2. å¼€å‘å¹¶æµ‹è¯•åŠŸèƒ½
3. æäº¤ä»£ç : `git commit -m "feat: add new feature"`
4. æ¨é€åˆ†æ”¯: `git push origin feature/new-feature`
5. åˆ›å»ºPull Request

### åˆ†æ”¯å‘½åè§„èŒƒ
- `feature/` - æ–°åŠŸèƒ½å¼€å‘
- `fix/` - é”™è¯¯ä¿®å¤
- `docs/` - æ–‡æ¡£æ›´æ–°
- `refactor/` - ä»£ç é‡æ„
- `test/` - æµ‹è¯•ç›¸å…³

## ğŸ“ è·å–å¸®åŠ©

### æ–‡æ¡£èµ„æº
- [APIæ–‡æ¡£](./API-æ–‡æ¡£.md) - å®Œæ•´çš„æ¥å£è¯´æ˜
- [AIæœåŠ¡è®¾è®¡](./ai-service-design.md) - AIåŠŸèƒ½æ¶æ„
- [åç«¯README](./backend/README.md) - åç«¯è¯¦ç»†è¯´æ˜

### æŠ€æœ¯æ”¯æŒ
- é¡¹ç›®Issues - æŠ¥å‘Šé—®é¢˜å’ŒåŠŸèƒ½è¯·æ±‚
- å¼€å‘äº¤æµç¾¤ - æ—¥å¸¸è®¨è®ºå’Œç­”ç–‘
- ä»£ç Review - ä»£ç è´¨é‡ä¿è¯

### ç›¸å…³é“¾æ¥
- [Next.jsæ–‡æ¡£](https://nextjs.org/docs)
- [Prismaæ–‡æ¡£](https://www.prisma.io/docs)
- [OpenRouteræ–‡æ¡£](https://openrouter.ai/docs)
- [shadcn/uiç»„ä»¶](https://ui.shadcn.com)

---

**Happy Coding! ğŸ‰**
